<!DOCTYPE html>

<html>

<head>
	<title>Page</title>
	<meta charset="UTF-8">
	<link href="style.css" rel="stylesheet">
</head>

<body>
	<div class="page">
		<div class="game">
			<h3>Коровы и быки</h3>
			<div class="block">
				<input type="text" placeholder="Введите ваше число" id="numberEnter">
				<button id="btnGo" onclick="go()">GO!</button>
				<button id="btnBuCo" onclick="buCo()">Быки и коровы</button>
				<div id="numTry">Количество попыток: 0</div>
				<div id="numBulls">Количество быков: 0</div>
				<div id="numCows">Количество коров: 0</div>
				<div id="moreOrLess">Вы еще не ввели число!</div>
			</div>
		</div>
	</div>
	<script>
		var numberProgramm = Math.round(1000 + Math.random() * 8999);
		var iTry = 0;

		function go() {
			var numberEnter = document.getElementById("numberEnter").value;
			var moreLess = document.getElementById("moreOrLess");
			var nTry = document.getElementById("numTry");

			nTry.innerHTML = "Количество попыток: " + Math.round(iTry++/22775); 
				// не понял почему с каждым нажатием на функцию кол-во попыток увеличивается на 22775


				if (numberProgramm == numberEnter) {
					nBulls.innerHTML = "Количество быков: 4";
					nCows.innerHTML = "Количество коров: 4";
					moreLess.innerHTML = "Ура, угадали число!!!";
				} else if (numberEnter < 1000 || numberEnter > 9999 || isNaN(numberEnter)) {
					nBulls.innerHTML = "Количество быков: 0";
					nCows.innerHTML = "Количество коров: 0";
					moreLess.innerHTML = "Вы ввели число неверно!!!";
					go();
				} else {
					if (numberEnter > numberProgramm) {
						moreLess.innerHTML = "Ваше число больше загаданного";

					} else {
						moreLess.innerHTML = "Ваше число меньше загаданного";
					}
					go();
				}
			}

			function buCo() {
				var numberEnter = document.getElementById("numberEnter").value;
				var nBulls = document.getElementById("numBulls");
				var nCows = document.getElementById("numCows");

				var numberEnterForm = numberEnter.split("");
				var numberProgrammForm = numberProgramm.toString().split("");
				var bulls = 0;
				var cows = 0;

				for (a = 0; a < 3; a++) {
					for (b = 0; b < 3; b++) {
						if (numberEnterForm[a] == numberProgrammForm[b]) {
							if (a = b) {
								bulls++;
							} else {
								cows++;
							}
						}
					}
				}
				nBulls.innerHTML = "Количество быков:" + bulls;
				nCows.innerHTML = "Количество коров:" + cows;
			}
	</script>
</body>

</html>